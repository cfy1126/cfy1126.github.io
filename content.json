{"meta":{"title":"美好事物","subtitle":"","description":"知行合一","author":"LinkinCao","url":"http://example.com","root":"/"},"pages":[{"title":"categories","date":"2022-06-29T15:39:40.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"link","date":"2022-06-29T15:40:29.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"link/index.html","permalink":"http://example.com/link/index.html","excerpt":"","text":""},{"title":"tags","date":"2022-06-29T15:37:20.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"小程序云开发","slug":"小程序云开发","date":"2022-07-07T12:36:39.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/07/小程序云开发/","link":"","permalink":"http://example.com/2022/07/07/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91/","excerpt":"","text":"上传数据到云端12345678910111213141516171819// 初始化云端数据库const db = wx.cloud.database()const products = db.collection(&#x27;products&#x27;)Page(&#123; data: &#123;&#125;, onSubmit(event) &#123; //添加数据到云端 products .add(&#123; data: &#123; ...event.detail.value, &#125;, &#125;) .then((res) =&gt; &#123; console.log(res) &#125;) &#125;,&#125;) 从云端获取数据1234567891011121314151617// 初始化云端数据库const db = wx.cloud.database()const products = db.collection(&#x27;products&#x27;)Page(&#123; data: &#123; products: [], &#125;, onLoad() &#123; //从云端获取数据 products.get().then((res) =&gt; &#123; this.setData(&#123; products: res.data, &#125;) &#125;) &#125;,&#125;) 修改删除云数据12345678910111213141516171819202122232425262728293031323334353637383940414243// 初始化云端数据库const db = wx.cloud.database()const products = db.collection(&#x27;products&#x27;)Page(&#123; data: &#123; product: &#123;&#125;, &#125;, onLoad(options) &#123; // 获取导航传过来的值 let id = options.id products .doc(id) .get() .then((res) =&gt; &#123; this.setData(&#123; product: res.data, &#125;) &#125;) &#125;, update() &#123; //修改云端数据 products .doc(this.data.product._id) .update(&#123; data: &#123; price: 399, &#125;, &#125;) .then((res) =&gt; &#123; console.log(res) &#125;) &#125;, del() &#123; // 删除云端数据 products .doc(this.data.product._id) .remove() .then((res) =&gt; &#123; console.log(res) &#125;) &#125;,&#125;) 云函数上传并部署云函数需安装: npm install –save wx-server-sdk@latest 添加数据云函数： 123456789101112131415161718192021// 云函数入口文件const cloud = require(&#x27;wx-server-sdk&#x27;)cloud.init(&#123; // 指定环境 evn: &#x27;invoice-inhand-9g86mm1bfec63201&#x27;,&#125;)const db = cloud.database()// 云函数入口函数exports.main = async (event, context) =&gt; &#123; const wxContext = cloud.getWXContext() //指定云函数功能 return db.collection(&#x27;users&#x27;).add(&#123; data: &#123; name: event.name, pwd: event.pwd, _openid: wxContext.OPENID, &#125;, &#125;)&#125; 调用云函数： 12345678910111213141516Page(&#123; onLoad() &#123; // 调用云函数做添加操作 wx.cloud .callFunction(&#123; name: &#x27;addUser&#x27;, data: &#123; name: &#x27;Caofayou&#x27;, pwd: &#x27;123456&#x27;, &#125;, &#125;) .then((res) =&gt; &#123; console.log(res) &#125;) &#125;,&#125;) 登录 数据获取处理 非空校验和格式校验 错误提示 页面跳转 保存用户信息 处理用户数据： 登录成功和失败： 123456789101112131415161718192021222324users .where(&#123; name: username, pwd: pwd, &#125;) .get() .then((res) =&gt; &#123; // 登录成功 if (res.data[0] == null) &#123; this.setData(&#123; show: true, &#125;) return &#125; else &#123; //登录失败 this.setData(&#123; show: false, &#125;) app.appUser = res.data[0] wx.redirectTo(&#123; url: &#x27;../index/index&#x27;, &#125;) &#125; &#125;)","categories":[],"tags":[{"name":"wechat","slug":"wechat","permalink":"http://example.com/tags/wechat/"}]},{"title":"第一篇博客","slug":"hello-world","date":"2022-07-07T09:43:14.396Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/07/hello-world/","link":"","permalink":"http://example.com/2022/07/07/hello-world/","excerpt":"","text":"今天终于找到了一个自己比较满意的博客框架, butterfly!","categories":[],"tags":[{"name":"essay","slug":"essay","permalink":"http://example.com/tags/essay/"}]},{"title":"网页单位汇总","slug":"网页单位汇总","date":"2022-07-07T09:43:08.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/07/网页单位汇总/","link":"","permalink":"http://example.com/2022/07/07/%E7%BD%91%E9%A1%B5%E5%8D%95%E4%BD%8D%E6%B1%87%E6%80%BB/","excerpt":"","text":"em: 相对于父元素rem: 相对于根元素","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"}]},{"title":"前端下载图片","slug":"download-picture","date":"2022-07-06T22:39:56.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/06/download-picture/","link":"","permalink":"http://example.com/2022/07/06/download-picture/","excerpt":"","text":"前端下载api返回为图片格式 123456789101112131415161718192021const downloadDocument = async () =&gt; &#123; const res = await http.get(`$&#123;path&#125;?user_id=caofy@inhand.com.cn`, &#123; responseType: &#x27;blob&#x27;, &#125;) downFile(res.data, &#x27;download&#x27;)&#125;const downFile = (data, name) =&gt; &#123; if (!data) &#123; alert(&#x27;数据错误！&#x27;) return &#125; let BLOB = new Blob([data]) let url = window.URL.createObjectURL(BLOB) let link = document.createElement(&#x27;a&#x27;) link.style.display = &#x27;none&#x27; link.href = url link.setAttribute(&#x27;download&#x27;, name) document.body.appendChild(link) link.click()&#125;","categories":[],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://example.com/tags/Javascript/"}]},{"title":"react-pdf简单使用","slug":"React-PDF","date":"2022-07-06T22:27:14.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/06/React-PDF/","link":"","permalink":"http://example.com/2022/07/06/React-PDF/","excerpt":"","text":"参考demo: https://github.com/recoding-io/react-videos/tree/main/react-pdf-viewer 官方文档: https://projects.wojtekmaj.pl/react-pdf/","categories":[],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"}]},{"title":"uppy简单使用","slug":"uppy","date":"2022-07-06T22:20:10.000Z","updated":"2022-07-07T09:43:14.396Z","comments":true,"path":"2022/07/06/uppy/","link":"","permalink":"http://example.com/2022/07/06/uppy/","excerpt":"","text":"参考demo: https://github.com/cfy1126/react-upload-uppy 官方文档: https://uppy.io/docs/","categories":[],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"}]}],"categories":[],"tags":[{"name":"wechat","slug":"wechat","permalink":"http://example.com/tags/wechat/"},{"name":"essay","slug":"essay","permalink":"http://example.com/tags/essay/"},{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"},{"name":"Javascript","slug":"Javascript","permalink":"http://example.com/tags/Javascript/"},{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"}]}